<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anchor Performance Benchmark</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Serene Sky (Soft Blues, Grays, and a touch of Coral) -->
    <!-- Application Structure Plan: A single-page, scrollable dashboard with a sticky navigation bar for quick section access. The central feature is an `interactive` charting area where users can toggle between 'Addition' and 'Toggling' benchmark data, dynamically updating multiple charts for direct comparison. This structure is chosen to transform a potentially dry report into an engaging, explorable data story, prioritizing intuitive user interaction and clear data visualization. Secondary sections provide in-depth analysis and architectural context, structured for easy reading with alternating content and visuals, removing repetitive card styling for a cleaner look. -->
    <!-- Visualization & Content Choices: Report Info: Performance Metrics Table -> Goal: Compare Classic vs. Anchor -> Viz: Bar Charts (Chart.js/Canvas) -> Interaction: Buttons to toggle data view between 'Addition' & 'Toggling' -> Justification: Bar charts offer clear visual comparison of discrete values, and the dynamic toggle enhances user control over data exploration. Report Info: Architectural Features -> Goal: Explain unique selling points -> Viz: Dedicated, clean blocks for each feature with descriptive text, code snippets, and placeholder images, using a flexible grid for alternating layouts -> Interaction: Read-through -> Justification: Presents complex information concisely and visually appealing, similar to modern framework websites, without the "card fatigue." -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
      :root {
        --color-primary: #2563eb; /* blue-600 */
        --color-primary-hover: #1d4ed8; /* blue-700 */
        --color-text-header: #1e293b; /* slate-800 */
        --color-text-body: #334155; /* slate-700 */
        --color-bg: #f8fafc; /* slate-50 */
        --color-bg-panel: #ffffff;
        --color-border: #e2e8f0; /* slate-200 */
      }

      body {
        font-family: 'Inter', sans-serif;
        background-color: var(--color-bg);
        color: var(--color-text-body);
      }

      /* Header & Navigation */
      .header-sticky {
        background-color: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-bottom: 1px solid var(--color-border);
      }
      .nav-link {
        position: relative;
        transition: color 0.3s ease;
        padding-bottom: 0.25rem;
        color: var(--color-text-body);
      }
      .nav-link::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        background-color: var(--color-primary);
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        transition: width 0.3s ease;
      }
      .nav-link:hover {
        color: var(--color-primary);
      }
      .nav-link:hover::after,
      .nav-link.active-nav::after {
        width: 100%;
      }

      /* Buttons */
      .btn-toggle {
        transition: all 0.3s ease;
        border: 1px solid transparent;
      }
      .btn-toggle.active-btn {
        background-color: var(--color-primary) !important;
        color: #ffffff !important;
        box-shadow: 0 4px 14px rgba(37, 99, 235, 0.25) !important;
        transform: translateY(-2px);
      }
      .btn-toggle:not(.active-btn):hover {
        border-color: var(--color-border);
        transform: translateY(-1px);
      }

      /* Panels & Cards (Unified Style) */
      .panel {
        background-color: var(--color-bg-panel);
        border: 1px solid var(--color-border);
        border-radius: 0.75rem; /* rounded-xl */
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -2px rgba(0, 0, 0, 0.05);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .panel:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }

      /* Chart Specifics */
      .chart-container {
        position: relative;
        width: 100%;
        height: 380px;
      }
      @media (min-width: 768px) {
        .chart-container {
          height: 420px;
        }
      }
      .chart-title {
        color: var(--color-text-header);
        font-weight: 600;
      }

      /* Content & Typography */
      section {
        padding-top: 2.5rem; /* pt-10 */
        margin-bottom: 5rem; /* mb-20 */
      }
      .section-title {
        font-size: 2.25rem; /* text-4xl */
        font-weight: 700; /* font-bold */
        color: var(--color-text-header);
        letter-spacing: -0.025em; /* tracking-tight */
        margin-bottom: 1rem;
      }
      @media (min-width: 768px) {
        .section-title {
          font-size: 3rem; /* md:text-5xl */
        }
      }
      .section-subtitle {
        max-width: 54rem; /* max-w-3xl */
        margin-left: auto;
        margin-right: auto;
        font-size: 1.125rem; /* text-lg */
        color: var(--color-text-body);
        line-height: 1.75;
      }

      /* Architecture Section Blocks */
      .content-block h3 {
        color: var(--color-primary);
        font-size: 1.5rem; /* text-2xl */
        font-weight: 700; /* font-bold */
        margin-bottom: 1rem;
      }
      .content-block h4 {
        font-size: 1.25rem; /* text-xl */
        font-weight: 600; /* font-semibold */
        color: var(--color-primary);
        margin-bottom: 0.5rem;
      }
      .content-block p {
        color: var(--color-text-body);
        line-height: 1.75;
      }
      .content-block pre {
        background-color: #1e293b; /* slate-800 */
        color: #cbd5e1; /* slate-300 */
        padding: 1.5rem;
        border-radius: 0.5rem; /* rounded-lg */
        margin-top: 1.5rem; /* mt-6 */
        font-family: 'Fira Code', 'JetBrains Mono', monospace;
        font-size: 0.9rem;
        line-height: 1.6;
        overflow-x: auto;
        border: 1px solid #334155; /* slate-700 */
        box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
      }
      .content-block pre code {
        font-family: inherit;
        color: inherit;
      }

      /* Alternating Layout */
      .alternating-layout {
        display: grid;
        grid-template-columns: 1fr;
        gap: 2.5rem;
        align-items: center;
      }
      @media (min-width: 1024px) {
        .alternating-layout.two-cols {
          grid-template-columns: 1fr 1fr;
          gap: 4rem; /* Increased gap for better spacing */
        }
        .alternating-layout.two-cols > div:nth-child(even) { /* Reverse order for even blocks */
          order: 1;
        }
        .alternating-layout.two-cols > div:nth-child(odd) {
          order: 2;
        }
        .alternating-layout.two-cols > .image-col {
          order: initial; /* Reset order for image column */
        }
      }
      .image-col img {
        border-radius: 0.75rem; /* rounded-xl */
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }
    </style>
  </head>
  <body class="antialiased">

    <header class="header-sticky sticky top-0 z-50">
      <nav class="container mx-auto px-6 py-4 flex justify-between items-center max-w-6xl">
        <h1 class="text-2xl md:text-3xl font-medium text-slate-800 tracking-tight">⚓ Anchor Framework</h1>
        <div class="hidden md:flex space-x-10">
          <a href="#summary" class="nav-link font-medium text-lg">Overview</a>
          <a href="#metrics" class="nav-link font-medium text-lg">Performance</a>
          <a href="#analysis" class="nav-link font-medium text-lg">Insights</a>
          <a href="#architecture" class="nav-link font-medium text-lg">Design</a>
        </div>
      </nav>
    </header>

    <main class="max-w-6xl container mx-auto px-6 py-10 md:py-16">
      <section id="summary" class="text-center">
        <h2 class="text-4xl md:text-5xl font-medium text-slate-900 mb-6 leading-tight tracking-tighter">State Management for <del class="opacity-50 font-light">Developers</del> Humans, Built for <del class="opacity-50 font-light">Todo Apps</del> Enterprise Apps</h2>
        <p class="section-subtitle mb-12">
          Anchor not just makes apps work, but also efficient. Intuitive code makes developers happy, high performance makes users happy. Anchor values the AX (All eXperience) philosophy.
        </p>
        <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
          <div class="panel p-8">
            <p class="text-5xl font-bold text-blue-600 mb-3">~84x Faster</p>
            <p class="text-slate-800 text-lg font-semibold">UI Render Time on Toggle Actions</p>
            <p class="text-slate-600 mt-2">Anchor's optimized rendering dramatically reduces the time spent updating the user interface, leading to instant feedback.</p>
          </div>
          <div class="panel p-8">
            <p class="text-5xl font-bold text-blue-600 mb-3">>2.5x Higher</p>
            <p class="text-slate-800 text-lg font-semibold">Frame Rate During UI Updates</p>
            <p class="text-slate-600 mt-2">Experience buttery-smooth interactions as Anchor maintains a consistently high frame rate, even during complex operations.</p>
          </div>
        </div>
        <blockquote class="mt-12 max-w-3xl mx-auto text-lg italic text-slate-600 leading-relaxed">
          "A well-engineered app stays performant whether it's displaying one item or hundreds. Its performance doesn't degrade as it scales."
        </blockquote>
      </section>

      <section id="metrics">
        <div class="text-center mb-12">
          <h2 class="section-title">Interactive Performance Metrics 📊</h2>
          <p class="section-subtitle">
            Dive into the data by selecting a benchmark scenario below. All charts will dynamically update to show a clear performance comparison between Classic and Anchor architectures.
          </p>
          <div class="mt-8 flex justify-center space-x-6">
            <button id="toggleBtn" class="btn-toggle active-btn px-8 py-3 text-lg font-semibold bg-white text-slate-700 rounded-full shadow-md hover:bg-slate-100 hover:text-blue-600 transition-all duration-300 ease-in-out">🚀 Toggling Actions</button>
            <button id="addBtn" class="btn-toggle px-8 py-3 text-lg font-semibold bg-white text-slate-700 rounded-full shadow-md hover:bg-slate-100 hover:text-blue-600 transition-all duration-300 ease-in-out">➕ Item Addition</button>
          </div>
        </div>

        <div class="grid lg:grid-cols-2 gap-10">
          <div class="panel p-6">
            <h3 class="chart-title text-2xl text-center mb-6">Total Profiling Time</h3>
            <div class="chart-container">
              <canvas id="profilingTimeChart"></canvas>
            </div>
            <p class="text-center text-slate-600 text-sm mt-4">Measures the overall duration from start to finish of the benchmark action, reflecting user-perceived performance.</p>
          </div>
          <div class="panel p-6">
            <h3 class="chart-title text-2xl text-center mb-6">UI Render Time</h3>
            <div class="chart-container">
              <canvas id="renderTimeChart"></canvas>
            </div>
            <p class="text-center text-slate-600 text-sm mt-4">Aggregated time spent by React rendering UI components during the action, indicating rendering efficiency.</p>
          </div>
          <div class="panel p-6">
            <h3 class="chart-title text-2xl text-center mb-6">Component Render Count (`TodoItem`)</h3>
            <div class="chart-container">
              <canvas id="renderCountChart"></canvas>
            </div>
            <p class="text-center text-slate-600 text-sm mt-4">Total instances a single `TodoItem` component re-rendered. Higher counts often reveal inefficient "wasted renders."</p>
          </div>
          <div class="panel p-6">
            <h3 class="chart-title text-2xl text-center mb-6">Frame Rate (FPS)</h3>
            <div class="chart-container">
              <canvas id="frameRateChart"></canvas>
            </div>
            <p class="text-center text-slate-600 text-sm mt-4">Indicates the smoothness of UI updates. A higher FPS signifies a more fluid and responsive user experience.</p>
          </div>
        </div>
      </section>

      <section id="analysis">
        <h2 class="section-title text-center">In-depth Analysis & Key Insights 🔍</h2>
        <p class="section-subtitle text-center mb-12">
          The comprehensive metrics reveal a stark contrast in performance efficiency. The **Classic App's architecture** consistently leads to extensive "wasted renders," where components re-render without any actual change in their relevant props or state. This inefficiency is the primary culprit behind its slower performance and degraded user experience.
        </p>

        <div class="alternating-layout two-cols max-w-5xl mx-auto mb-10">
          <div class="image-col">
            <img src="https://placehold.co/600x400/e0f2fe/60a5fa?text=Performance+Insights" alt="Performance Insights Diagram" class="w-full h-auto">
          </div>
          <div class="space-y-8">
            <div>
              <h4 class="text-xl font-semibold text-blue-600 mb-2">Profiling &amp; Render Times</h4>
              <p class="text-slate-800 leading-relaxed text-base">The Classic App is profoundly slower across both addition and toggling operations. The most staggering difference is observed in UI Render Time for **toggling actions, where it is an astonishing 84 times slower**. This unequivocally points to an architectural flaw where even granular updates trigger broad, inefficient re-rendering cycles throughout the component tree.</p>
            </div>
            <div>
              <h4 class="text-xl font-semibold text-blue-600 mb-2">Component Render Count</h4>
              <p class="text-slate-800 leading-relaxed text-base">The data confirms this inefficiency, with the Classic App's `TodoItem` components re-rendering an overwhelming **62 times more often**. This colossal disparity signifies that changes to a single item in the Classic App frequently force unnecessary re-renders of many other, unrelated `TodoItem` components, effectively nullifying the performance benefits of component-level memoization.</p>
            </div>
            <div>
              <h4 class="text-xl font-semibold text-blue-600 mb-2">Frame Rate (FPS)</h4>
              <p class="text-slate-800 leading-relaxed text-base">The tangible impact on the end-user is evident in the frame rate. While the **Anchor App maintains a fluid 187.2 fps**, delivering a consistently smooth and responsive UI, the Classic App experiences a significant drop to **~74.4 fps** during active updates. This reduction directly translates to a perceivable stuttering or lagging interface, diminishing the overall user experience.</p>
            </div>
          </div>
        </div>

        <p class="max-w-4xl mx-auto text-slate-800 text-lg leading-relaxed mt-10">
          In essence, the Classic App's state management approach promotes broad component updates, leading to a cascade of re-renders that consume excessive resources and time. The Anchor App, conversely, demonstrates superior design by isolating state changes and optimizing the rendering process to only affect necessary components.
        </p>
      </section>

      <section id="architecture">
        <h2 class="section-title text-center">Anchor's Architectural Blueprint: Innovation &amp; Elegance ✨</h2>
        <div class="max-w-5xl mx-auto text-center">
          <p class="section-subtitle mb-12">Beyond its impressive performance, the Anchor architecture introduces fundamental advancements in state management and developer utilities, enhancing both application capabilities and the development workflow.</p>
        </div>

        <div class="max-w-5xl mx-auto space-y-16">
          <!-- Mental Model Section -->
          <div class="panel content-block p-10">
            <h3 class="text-3xl font-bold text-slate-900 mb-6 text-center">The Anchor Mental Model: True Immutable, Data Integrity, Fine-Grained Reactivity</h3>
            <p class="text-slate-800 leading-relaxed mb-8 text-center max-w-3xl mx-auto">Anchor's core philosophy revolves around these three pillars, ensuring robust, performant, and reliable applications from the ground up.</p>

            <div class="alternating-layout two-cols">
              <div>
                <h4 class="text-2xl font-semibold text-blue-600 mb-4">True Immutability &amp; Strong Typing</h4>
                <p class="text-slate-800 leading-relaxed mb-4">Anchor pioneers a **true immutable model** that cleverly sidesteps the typical performance overhead associated with deep copying large state trees. Traditional immutable patterns often necessitate creating new objects for every minor change, which can be computationally intensive.</p>
                <p class="text-slate-800 leading-relaxed mb-4">Furthermore, Anchor is **strongly typed**. If you declare state with `const state = useImmutable({ /* ... */ });`, it will return read-only types in your IDE, actively warning and preventing accidental mutations at the development level. This enhances code safety and predictability.</p>
                <p class="text-slate-800 leading-relaxed">Anchor empowers developers to write intuitive "direct mutation" code within strictly controlled "write contracts." The framework intelligently manages the underlying immutability, ensuring state integrity while efficiently targeting only the relevant components for re-rendering. This innovative approach delivers:</p>
                <ul class="list-disc list-inside mt-5 space-y-2 text-slate-700">
                  <li><strong>Peak Performance:</strong> Eliminates the costly overhead of deep cloning.</li>
                  <li><strong>Unyielding Safety:</strong> Guarantees immutable state, preventing unintended side effects.</li>
                  <li><strong>Developer Intuition:</strong> Offers a familiar, direct mutation syntax for state updates, enhancing code readability and maintainability.</li>
                </ul>
              </div>
              <div class="image-col">
                <img src="https://placehold.co/600x400/add8e6/00008b?text=Immutability+%26+Types" alt="Diagram illustrating immutability and strong typing" class="w-full h-auto">
              </div>
            </div>

            <div class="alternating-layout two-cols mt-10">
              <div class="image-col">
                <img src="https://placehold.co/600x400/c7f0d4/006400?text=Data+Integrity+Schema" alt="Diagram illustrating data integrity with Zod schemas" class="w-full h-auto">
              </div>
              <div>
                <h4 class="text-2xl font-semibold text-blue-600 mb-4">Data Integrity with Zod Schema</h4>
                <p class="text-slate-800 leading-relaxed mb-4">Anchor champions **data integrity** by integrating <strong class="text-purple-700">Zod schemas as a first-citizen class</strong>. This powerful combination ensures that your data always conforms to its defined structure and types, both during development and at runtime. By validating data against a schema, Anchor provides robust error handling and predictable data shapes.</p>
                <p class="text-slate-800 leading-relaxed">This integration not only enhances data reliability but also provides **superior type inference** for your state, catching potential issues early in the development cycle through static analysis. A simple example:</p>
                <pre><code class="language-typescript">import &#123; z &#125; from 'zod';

const userSchema = z.object(&#123;
    id: z.string().uuid(),
    name: z.string().min(1),
    email: z.string().email(),
    isActive: z.boolean().default(true),
&#125;);

const userData = useImmutable(userSchema, &#123;
    id: 'a1b2c3d4-e5f6-7890-1234-567890abcdef',
    name: 'Jane Doe',
    email: 'jane@example.com',
&#125;);
</code></pre>
                <p class="text-slate-800 leading-relaxed mt-4">Any attempt to set invalid data will be caught by Zod, ensuring your application operates with clean and reliable information.</p>
              </div>
            </div>

            <div class="alternating-layout two-cols mt-10">
              <div>
                <h4 class="text-2xl font-semibold text-blue-600 mb-4">Fine-Grained Reactivity</h4>
                <p class="text-slate-800 leading-relaxed">Complementing immutability and data integrity, Anchor provides **fine-grained reactivity**. This means that when a piece of state changes, only the exact components that depend on that specific piece of state are re-rendered. This contrasts sharply with broader re-rendering strategies, significantly reducing computational overhead and ensuring the fastest possible UI updates, as demonstrated by the benchmark performance.</p>
              </div>
              <div class="image-col">
                <img src="https://placehold.co/600x400/fffacd/daa520?text=Fine-Grained+Reactivity" alt="Diagram illustrating fine-grained reactivity" class="w-full h-auto">
              </div>
            </div>
          </div>

          <!-- Built-ins Section -->
          <h3 class="text-3xl font-medium text-slate-900 mt-16 mb-8 text-center">Seamlessly Integrated Built-ins for Ultimate AX</h3>
          <p class="text-slate-800 leading-relaxed mb-12 text-center max-w-3xl mx-auto">Anchor's rich suite of built-in utilities covers common application needs, providing powerful, ready-to-use solutions with elegant APIs.</p>

          <div class="space-y-16">
            <div class="panel content-block p-10">
              <div class="alternating-layout two-cols">
                <div class="image-col">
                  <img src="https://placehold.co/600x300/e0f2fe/60a5fa?text=Optimistic+UI" alt="Diagram showing optimistic UI update flow" class="w-full h-auto">
                </div>
                <div>
                  <h3 class="text-2xl font-semibold text-blue-600 mb-4">Optimistic Model</h3>
                  <p class="text-slate-800 leading-relaxed">Anchor's **Optimistic Model** significantly enhances user experience by making UI updates *instantly* in response to user actions, even before a server response is received. This creates a highly responsive feel, eliminating perceived latency. If a server operation fails, Anchor gracefully reverts the UI, ensuring data consistency while providing a fluid user interaction flow.</p>
                </div>
              </div>
            </div>

            <div class="panel content-block p-10">
              <div class="alternating-layout two-cols">
                <div>
                  <h3 class="text-2xl font-semibold text-blue-600 mb-4">Built-in History Utility</h3>
                  <p class="text-slate-800 leading-relaxed mb-4">Work with time travel state with simple code. Anchor significantly boosts developer productivity and enriches the user experience with its **seamlessly integrated History utility**. This powerful feature automatically tracks state changes, providing **out-of-the-box support for undo/redo functionality** with virtually no additional development effort. Developers can effortlessly introduce robust version control for their application's state:</p>
                  <pre><code class="language-typescript">const { canBackward, canForward, backward, forward } = useHistory(state);</code></pre>
                  <p class="text-slate-800 leading-relaxed mt-4">This utility not nullifies considerable development time but also enhances application usability by empowering users with greater control over their interactions and edits.</p>
                </div>
                <div class="image-col">
                  <img src="https://placehold.co/600x300/f0f9ff/3b82f6?text=History+Utility" alt="Diagram illustrating history utility" class="w-full h-auto mt-6">
                </div>
              </div>
            </div>

            <div class="panel content-block p-10">
              <div class="alternating-layout two-cols">
                <div class="image-col">
                  <img src="https://placehold.co/600x300/dbeafe/1d4ed8?text=Reactive+Sync+Storage" alt="Diagram illustrating reactive sync storage" class="w-full h-auto">
                </div>
                <div>
                  <h3 class="text-2xl font-semibold text-blue-600 mb-4">Reactive Sync Storage</h3>
                  <p class="text-slate-800 leading-relaxed mb-4">Work with `localStorage` and `sessionStorage` just like plain objects. Anchor provides a true two-way storage binding:</p>
                  <pre><code class="language-typescript">const settings = usePersistent('settings', { theme: 'light' });</code></pre>
                  <p class="text-slate-800 leading-relaxed mt-4">Any change made to the `settings` object is automatically saved to the chosen storage, and any external changes in storage will also update the state, ensuring perfect synchronization.</p>
                </div>
              </div>
            </div>

            <div class="panel content-block p-10">
              <div class="alternating-layout two-cols">
                <div>
                  <h3 class="text-2xl font-semibold text-blue-600 mb-4">Reactive Async Storage (KV Store)</h3>
                  <p class="text-slate-800 leading-relaxed mb-4">Working with IndexedDB easier than ever. Anchor's `useKV` utility simplifies complex asynchronous data operations, abstracting away IndexedDB's intricacies. It automatically creates records if they don't exist, and any changes are persistently saved:</p>
                  <pre><code class="language-typescript">const profile = useKV('profile', { name: 'John Doe', email: 'john@example.com' });</code></pre>
                  <p class="text-slate-800 leading-relaxed mt-4">This provides robust offline capabilities and seamless data persistence.</p>
                </div>
                <div class="image-col">
                  <img src="https://placehold.co/600x300/bfdbfe/2563eb?text=KV+Store" alt="Diagram illustrating key-value store" class="w-full h-auto">
                </div>
              </div>
            </div>

            <div class="panel content-block p-10">
              <div class="alternating-layout two-cols">
                <div class="image-col">
                  <img src="https://placehold.co/600x300/bfdbfe/2563eb?text=Reactive+Table" alt="Diagram illustrating reactive table storage" class="w-full h-auto">
                </div>
                <div>
                  <h3 class="text-2xl font-semibold text-blue-600 mb-4">Reactive Async Storage (Table)</h3>
                  <p class="text-slate-800 leading-relaxed mb-4">Managing collections of data is made effortless with `useTable`. Any modifications to records returned from the table are automatically persisted. To retrieve and update a specific record:</p>
                  <pre><code class="language-typescript">const users = useTable('users', [{ id: 1, name: 'Alice' }]);
// To retrieve a user
const user = users.get(ID);
// To update a user's data
user.data.fullName = event.target.value;</code></pre>
                  <p class="text-slate-800 leading-relaxed mt-4">This simplifies complex data management for structured data, perfect for dynamic lists and enterprise applications.</p>
                </div>
              </div>
            </div>

            <div class="panel content-block p-10">
              <div class="alternating-layout two-cols">
                <div>
                  <h3 class="text-2xl font-semibold text-blue-600 mb-4">Reactive Request (Fetch &amp; Stream)</h3>
                  <p class="text-slate-800 leading-relaxed mb-4">Anchor makes handling asynchronous requests and server-sent events (SSE) incredibly simple and reactive. Stream data directly to your UI with minimal boilerplate:</p>
                  <pre><code class="language-typescript">const message = useStream('Please wait...', { url: '/api/stream-updates' });</code></pre>
                  <p class="text-slate-800 leading-relaxed mt-4">And seamlessly display in your UI:</p>
                  <pre><code class="language-typescript"><span>{ message.data }</span></code></pre>
                  <p class="text-slate-800 leading-relaxed mt-4">Received data chunks automatically update the UI, providing real-time experiences with ease. Similarly, `useFetch` simplifies standard `fetch` requests with reactive updates.</p>
                </div>
                <div class="image-col">
                  <img src="https://placehold.co/600x300/dbeafe/1d4ed8?text=Reactive+Fetch+%26+Stream" alt="Diagram illustrating reactive fetch and stream" class="w-full h-auto">
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

    </main>

    <footer class="bg-slate-800 text-slate-300 py-8">
      <div class="container mx-auto px-6 text-center">
        <p class="text-lg">&copy; 2025 Anchor Framework Performance Benchmark. All rights reserved.</p>
        <p class="text-sm mt-2">Crafted with passion for optimal web development.</p>
      </div>
    </footer>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const benchmarkData = {
          toggling: {
            profilingTime: { classic: 966.7, anchor: 130.1, unit: 'ms' },
            renderTime: { classic: 58.7, anchor: 0.7, unit: 'ms' },
            renderCount: { classic: 7928, anchor: 128, unit: 'renders' },
            frameRate: { classic: 74.4, anchor: 187.2, unit: 'fps' }
          },
          addition: {
            profilingTime: { classic: 2300, anchor: 582.9, unit: 'ms' },
            renderTime: { classic: 46.7, anchor: 2.6, unit: 'ms' },
            renderCount: { classic: 7928, anchor: 128, unit: 'renders' },
            frameRate: { classic: 74.4, anchor: 187.2, unit: 'fps' }
          }
        };

        const chartColors = {
          classic: 'rgba(239, 68, 68, 0.75)', // Red-500 with more opacity
          anchor: 'rgba(59, 130, 246, 0.85)', // Blue-500 with more opacity
          classicBorder: 'rgb(239, 68, 68)',
          anchorBorder: 'rgb(59, 130, 246)'
        };

        const createChart = (ctx, label, unit) => {
          return new Chart(ctx, {
            type: 'bar',
            data: {
              labels: ['Classic App', 'Anchor App'],
              datasets: [{
                label: label,
                data: [],
                backgroundColor: [chartColors.classic, chartColors.anchor],
                borderColor: [chartColors.classicBorder, chartColors.anchorBorder],
                borderWidth: 2,
                borderRadius: 6, // Rounded bars
                hoverBackgroundColor: [chartColors.classic, chartColors.anchor].map(color => color.replace('0.75', '1').replace('0.85', '1')), // Darken on hover
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              animation: {
                duration: 800, // Smooth animation on update
                easing: 'easeOutQuart',
              },
              plugins: {
                legend: {
                  display: false
                },
                tooltip: {
                  backgroundColor: 'rgba(30, 41, 59, 0.9)', // Darker tooltip background
                  titleColor: '#fff',
                  bodyColor: '#fff',
                  borderColor: '#e2e8f0',
                  borderWidth: 1,
                  borderRadius: 6,
                  callbacks: {
                    label: function(context) {
                      let label = context.dataset.label || '';
                      if (label) {
                        label += ': ';
                      }
                      if (context.parsed.y !== null) {
                        label += `${context.parsed.y} ${unit}`;
                      }
                      return label;
                    }
                  }
                }
              },
              scales: {
                y: {
                  beginAtZero: true,
                  grid: {
                    color: '#e2e8f0', // Lighter grid lines
                    borderColor: '#e2e8f0',
                  },
                  ticks: {
                    color: '#64748b' // Lighter tick labels
                  },
                  title: {
                    display: true,
                    text: unit.charAt(0).toUpperCase() + unit.slice(1),
                    color: '#334155', // Darker title
                    font: {
                      size: 14,
                      weight: '600'
                    }
                  }
                },
                x: {
                  grid: {
                    display: false
                  },
                  ticks: {
                    color: '#64748b' // Lighter tick labels
                  }
                }
              }
            }
          });
        };

        const charts = {
          profilingTime: createChart(document.getElementById('profilingTimeChart').getContext('2d'), 'Profiling Time', 'ms'),
          renderTime: createChart(document.getElementById('renderTimeChart').getContext('2d'), 'Render Time', 'ms'),
          renderCount: createChart(document.getElementById('renderCountChart').getContext('2d'), 'Render Count', 'renders'),
          frameRate: createChart(document.getElementById('frameRateChart').getContext('2d'), 'Frame Rate', 'fps')
        };

        const updateCharts = (type) => {
          const data = benchmarkData[type];
          charts.profilingTime.data.datasets[0].data = [data.profilingTime.classic, data.profilingTime.anchor];
          charts.profilingTime.options.scales.y.title.text = data.profilingTime.unit.charAt(0).toUpperCase() + data.profilingTime.unit.slice(1);
          charts.profilingTime.update();

          charts.renderTime.data.datasets[0].data = [data.renderTime.classic, data.renderTime.anchor];
          charts.renderTime.options.scales.y.title.text = data.renderTime.unit.charAt(0).toUpperCase() + data.renderTime.unit.slice(1);
          charts.renderTime.update();

          charts.renderCount.data.datasets[0].data = [data.renderCount.classic, data.renderCount.anchor];
          charts.renderCount.options.scales.y.title.text = data.renderCount.unit.charAt(0).toUpperCase() + data.renderCount.unit.slice(1);
          charts.renderCount.update();

          charts.frameRate.data.datasets[0].data = [data.frameRate.classic, data.frameRate.anchor];
          charts.frameRate.options.scales.y.title.text = data.frameRate.unit.charAt(0).toUpperCase() + data.frameRate.unit.slice(1);
          charts.frameRate.update();
        };

        const toggleBtn = document.getElementById('toggleBtn');
        const addBtn = document.getElementById('addBtn');
        const navLinks = document.querySelectorAll('.nav-link');

        const setActiveButton = (activeButton, inactiveButton) => {
          activeButton.classList.add('active-btn');
          inactiveButton.classList.remove('active-btn');
        };

        const setActiveNavLink = () => {
          const sections = document.querySelectorAll('section');
          let currentActive = null;
          sections.forEach(section => {
            const rect = section.getBoundingClientRect();
            if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
              currentActive = section.id;
            }
          });

          navLinks.forEach(link => {
            link.classList.remove('active-nav');
            if (link.getAttribute('href').substring(1) === currentActive) {
              link.classList.add('active-nav');
            }
          });
        };

        navLinks.forEach(link => {
          link.addEventListener('click', function(e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
              behavior: 'smooth'
            });
            navLinks.forEach(nav => nav.classList.remove('active-nav'));
            this.classList.add('active-nav');
          });
        });

        window.addEventListener('scroll', setActiveNavLink);
        setActiveNavLink(); // Set active link on initial load

        toggleBtn.addEventListener('click', () => {
          updateCharts('toggling');
          setActiveButton(toggleBtn, addBtn);
        });

        addBtn.addEventListener('click', () => {
          updateCharts('addition');
          setActiveButton(addBtn, toggleBtn);
        });

        updateCharts('toggling');
        setActiveButton(toggleBtn, addBtn); // Ensure initial button state is active
      });
    </script>
  </body>
</html>
